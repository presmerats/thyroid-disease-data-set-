data_in2$TSH[800:810]
data_in2$T3[800:810]
data_in2$TSH[data_in2$TSH == '?'] <- NA
data_in2$T3[800:810]
as.numeric(data_in2$T3[800:810])
data.numeric <- function(data,varname){
#colnames(data)
varcolum = data[,which(colnames(data) == varname)]
varcolum[varcolum == '?'] <- NA
data[,which(colnames(data) == varname)] <- as.numeric(as.character(varcolum))
data[,which(colnames(data) == varname)] <- as.numeric( data[,which(colnames(data) == varname)])
return(data)
}
data.numeric <- function(data,varname){
#colnames(data)
varcolum = data[,which(colnames(data) == varname)]
varcolum[varcolum == '?'] <- NA
data[,which(colnames(data) == varname)] <- as.numeric(as.character(varcolum))
data[,which(colnames(data) == varname)] <- as.numeric( data[,which(colnames(data) == varname)])
return(data)
}
data_in2 <- data.numeric(data_in,"TSH")
data_in2 <- data.numeric(data_in,"T3")
data_in2 <- data.numeric(data_in,"TT4")
data_in2 <- data.numeric(data_in,"T4U")
data_in2 <- data.numeric(data_in,"FTI")
data_in2 <- data.numeric(data_in,"TBG")
as.numeric(data_in2$T3[800:810])
data_in2$T3[800:810]
data.numeric <- function(data,varname){
#colnames(data)
varcolum = data[,which(colnames(data) == varname)]
varcolum[varcolum == '?'] <- NA
data[,which(colnames(data) == varname)] <- as.numeric(as.character(varcolum))
data[,which(colnames(data) == varname)] <- as.numeric( data[,which(colnames(data) == varname)])
return(data)
}
# replace ? with NA
data_in$sex[ data_in$sex == "?" ] <- NA
data_in <- data.numeric(data_in,"TSH")
data_in <- data.numeric(data_in,"T3")
data_in <- data.numeric(data_in,"TT4")
data_in <- data.numeric(data_in,"T4U")
data_in <- data.numeric(data_in,"FTI")
data_in <- data.numeric(data_in,"TBG")
data_in$TSH[800:810]
data_in$TBG[800:810]
data_in$T3[800:810]
summary(data_without_id)
data_in <- subset(data_without_id,select=c("age", "sex", "on_thyroxine", "query_on_thyroxine", "on_antithyroid_medication", "sick", "pregnant", "thyroid_surgery", "I131_treatment", "query_hypothyroid", "query_hyperthyroid", "lithium", "goitre", "tumor", "hypopituitary", "psych",
"TSH", "T3", "TT4", "T4U", "FTI", "referral_source", "class"))
summary(data_in)
# replace ? with NA
data_in$sex[ data_in$sex == "?" ] <- NA
# drop unused levels
data_in$sex <- droplevels(data_in$sex)
data_in <- data.numeric(data_in,"TSH")
data_in <- data.numeric(data_in,"T3")
data_in <- data.numeric(data_in,"TT4")
data_in <- data.numeric(data_in,"T4U")
data_in <- data.numeric(data_in,"FTI")
summary(data_in)
# Impute missing values
(dim <- dim(data_in))
data_wo <- data_in
library(mice)
mice <- mice(data_wo, m = 1)
data.mice<- complete(mice)
# write.table(as.matrix(data.mice),file="thyroid_complete.txt",sep="\t")
summary(data.mice)
# PCA
library(FactoMineR)
my.pca <- PCA(data.mice, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23))
summary(data.mice$class)
plot(my.pca$ind$coord[,1],my.pca$ind$coord[,2], col=as.numeric(data.mice$class))
data_in <- subset(data_without_id,select=c("age", "sex", "on_thyroxine", "query_on_thyroxine", "on_antithyroid_medication", "sick", "pregnant", "thyroid_surgery", "I131_treatment", "query_hypothyroid", "query_hyperthyroid", "lithium", "goitre", "tumor", "hypopituitary", "psych",
"TSH", "T3", "TT4", "T4U", "FTI", "referral_source","TBG_measured", "TBG", "class"))
summary(data_in)
# replace ? with NA
data_in$sex[ data_in$sex == "?" ] <- NA
# drop unused levels
data_in$sex <- droplevels(data_in$sex)
data_in <- data.numeric(data_in,"TSH")
data_in <- data.numeric(data_in,"T3")
data_in <- data.numeric(data_in,"TT4")
data_in <- data.numeric(data_in,"T4U")
data_in <- data.numeric(data_in,"FTI")
data_in <- data.numeric(data_in,"TBG")
summary(data_in)
# Impute missing values
(dim <- dim(data_in))
data_wo <- data_in
library(mice)
mice <- mice(data_wo, m = 1)
data.mice<- complete(mice)
# write.table(as.matrix(data.mice),file="thyroid_complete.txt",sep="\t")
summary(data.mice)
# PCA
library(FactoMineR)
my.pca <- PCA(data.mice, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25))
summary(data.mice$class)
plot(my.pca$ind$coord[,1],my.pca$ind$coord[,2], col=as.numeric(data.mice$class))
my.pca
if(!require(rstudioapi)) {
install.packages("rstudioapi")
require(rstudioapi)
}
setwd(dirname(getActiveDocumentContext()$path))
source("preprocessing.R")
source("missing.R")
data <- read.table("../dataset/thyroid0387.txt", header = FALSE, sep = ",")
# Preprocessing -----------------------------------------------------------------------------------------
data_in <- preprocessing(data)
# option 1) removing TBG-----------
data.mice <- remove.and.impute(data_in)
# PCA for comparison
library(FactoMineR)
my.pca <- PCA(data.mice, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23))
# Preprocessing ---------------------------------------------
data_in <- preprocessing(data)
# option 1) removing TBG-----------
data.mice <- remove.and.impute(data_in)
# option 1) removing TBG-----------
data.mice <- remove.and.impute(data_in)
# PCA for comparison
library(FactoMineR)
my.pca <- PCA(data.mice, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23))
summary(data.mice$class)
data.mice
summary(data.mice$class)
data.mice[,25]
summary(data.mice[,25])
# option 1) removing TBG-----------
data.mice <- remove.and.impute(data_in)
source("preprocessing.R")
source("missing.R")
data <- read.table("../dataset/thyroid0387.txt", header = FALSE, sep = ",")
# Preprocessing ---------------------------------------------
data_in <- preprocessing(data)
# option 1) removing TBG-----------
data.mice <- remove.and.impute(data_in)
# PCA for comparison
library(FactoMineR)
my.pca <- PCA(data.mice, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23))
summary(data.mice$class)
summary(data.mice)
source("preprocessing.R")
source("missing.R")
data <- read.table("../dataset/thyroid0387.txt", header = FALSE, sep = ",")
# Preprocessing ---------------------------------------------
data_in <- preprocessing(data)
# option 1) removing TBG-----------
data.mice <- remove.and.impute(data_in)
# PCA for comparison
library(FactoMineR)
summary(data.mice)
my.pca <- PCA(data.mice, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25))
my.pca <- PCA(data.mice, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23))
summary(data.mice$class)
plot(my.pca$ind$coord[,1],my.pca$ind$coord[,2], col=as.numeric(data.mice$class))
if(!require(rstudioapi)) {
install.packages("rstudioapi")
require(rstudioapi)
}
setwd(dirname(getActiveDocumentContext()$path))
source("preprocessing.R")
source("missing.R")
source("outliers.R")
source("PCA.R")
source("MCA.R")
data <- read.table("../dataset/thyroid0387.txt", header = FALSE, sep = ",")
# Preprocessing ---------------------------------------------
data_in <- preprocessing(data)
# option 1) removing TBG-----------
data.mice <- remove.and.impute(data_in)
# PCA for comparison
library(FactoMineR)
summary(data.mice)
my.pca <- PCA(data.mice, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23))
summary(data.mice$class)
plot(my.pca$ind$coord[,1],my.pca$ind$coord[,2], col=as.numeric(data.mice$class))
# option 2) doing MICE-------
data.mice <- impute.all(data_in)
# PCA for comparison
library(FactoMineR)
my.pca <- PCA(data.mice, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25))
summary(data.mice$class)
plot(my.pca$ind$coord[,1],my.pca$ind$coord[,2], col=as.numeric(data.mice$class))
summary(data_in)
?mice
# Impute missing values
#(dim <- dim(data_in))
data_wo <- data_in
data_in2 <- data_in
data_in2$TBG[(data_in2$TBG == NA) and (data_in2$class == "-")]
data_in2$TBG[(data_in2$TBG == NA) & (data_in2$class == "-")]
data_in2$TBG[(data_in2$TBG != NA) & (data_in2$class == "-")]
data_in2$TBG[(data_in2$TBG != NA) & (data_in2$class == "-")]
data_in2$TBG[data_in2$TBG != NA]
data_in2$TBG[data_in2$TBG != NA]
data_in2$TBG[data_in2$TBG == 2]
data_in2$TBG[data_in2$TBG> 2]
data_in2$TBG[data_in2$TBG> 70]
data_in2$TBG[data_in2$TBG> 199]
data_in2$TBG[is.na(data_in2$TBG)]
data_in2$TBG[!is.na(data_in2$TBG)]
data_in2$TBG[!is.na(data_in2$TBG) & (data_in2$class == "-")]
data_in2$TBG[is.na(data_in2$TBG) & (data_in2$class == "-")]
if(!require(rstudioapi)) {
install.packages("rstudioapi")
require(rstudioapi)
}
setwd(dirname(getActiveDocumentContext()$path))
source("preprocessing.R")
source("missing.R")
source("outliers.R")
source("PCA.R")
source("MCA.R")
data <- read.table("../dataset/thyroid0387.txt", header = FALSE, sep = ",")
# Preprocessing ---------------------------------------------
data_in <- preprocessing(data)
# option 3) doin MICE for conditions, 24 for healty-----
data.mice <- impute.condition(data_in)
# PCA for comparison
library(FactoMineR)
my.pca <- PCA(data.mice, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25))
summary(data.mice$class)
plot(my.pca$ind$coord[,1],my.pca$ind$coord[,2], col=as.numeric(data.mice$class))
summary(data_in2$TBG[ (data_in2$class == "-")])
summary(data_in2$TBG[ (data_in2$class != "-")])
summary(data.mice$TBG[ (data.mice$class == "-")])
summary(data.mice$TBG[ (data.mice$class != "-")])
# option 3) doin MICE for conditions, 24 for healty-----
data.mice <- impute.condition2(data_in)
source("missing.R")
# option 3) doin MICE for conditions, 24 for healty-----
data.mice <- impute.condition2(data_in)
my.pca <- PCA(data.mice, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25))
summary(data.mice$TBG[ (data.mice$class == "-")])
summary(data.mice$TBG[ (data.mice$class != "-")])
summary(data_in$TBG[ (data_in$class != "-")])
summary(data_in$TBG[ (data_in$class == "-")])
summary(data.mice$TBG[ (data.mice$class == "-")])
# Impute missing values
#(dim <- dim(data_in))
data_wo <- data_in
# set NA in TBG with class "-" to be 24
data_in2 <- data_in
data_in2$TBG[is.na(data_in2$TBG) & (data_in2$class == "-")]  <- 22.9
# option 3) doin MICE for conditions, 24 for healty-----
data.mice <- impute.condition(data_in)
# PCA for comparison
library(FactoMineR)
my.pca <- PCA(data.mice, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25))
summary(data.mice$class)
summary(data_in$TBG[ (data_in$class == "-")])
summary(data_in$TBG[ (data_in$class != "-")])
summary(data.mice$TBG[ (data.mice$class == "-")])
summary(data.mice$TBG[ (data.mice$class != "-")])
source("preprocessing.R")
source("missing.R")
# option 3) doin MICE for conditions, 24 for healty-----
data.mice <- impute.condition(data_in)
# PCA for comparison
library(FactoMineR)
my.pca <- PCA(data.mice, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25))
summary(data.mice$TBG[ (data.mice$class == "-")])
summary(data.mice$TBG[ (data.mice$class != "-")])
# option 3) doin MICE for conditions, 24 for healty-----
data.mice <- impute.condition2(data_in)
summary(data.mice$TBG[ (data.mice$class == "-")])
summary(data.mice$TBG[ (data.mice$class != "-")])
my.pca <- PCA(data.mice, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25))
# option 2) doing MICE-------
data.mice <- impute.all(data_in)
summary(data.mice$TBG[ (data.mice$class == "-")])
summary(data.mice$TBG[ (data.mice$class != "-")])
summary(data_in$TBG[ (data_in$class != "-")])
data_in2$TBG[is.na(data_in2$TBG) & (data_in2$class == "-")]
data_in$TBG[is.na(data_in$TBG) & (data_in$class == "-")]
data_in$TBG[!is.na(data_in$TBG) & (data_in$class == "-")]
data_in$class[!is.na(data_in$TBG) & (data_in$class == "-")]
data_in$class[is.na(data_in$TBG) & (data_in$class == "-")]
data_in$class[is.na(data_in$TBG) && (data_in$class == "-")]
data_in$class[is.na(data_in$TBG) and (data_in$class == "-")]
?Moutlier
?Moutliers
library(chemometrics)
library(chemometrics)
?Moutlier
data2 <- Moutlier(data.mice)
data2 <- Moutlier(data.mice, quantile=0.975)
data.mice
data2 <- data.mice[,-c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25)]
data2 <- Moutlier(data.mice, quantile=0.975)
names(data2)
head(data2)
is.factor(data2$age)
is.numeric(data2$age)
data2 <- Moutlier(data2, quantile=0.975)
summary(data.mice$age)
nrow(data.mice)
data.mice$age[data.mice$age >60000]
source("errors.R")
# errors -------------------------------------------------
data.mice <- errors(data.mice)
source("errors.R")
# outliers ----------------------------------------------------------------
data.mice <- ourliers(data.mice)
data2 <- data.mice[,-c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25)]
data2 <- Moutlier(data2, quantile=0.975)
ncol(data.mice)
nrow(data.mice)
nrow(data)
nrow(data[is.na(data_in$TBG)])
nrow(data[is.na(data_in$TBG),])
data_in$class[is.na(data_in$TBG) and (data_in$class != "-")]
data_in$TBG[is.na(data_in$TBG) and (data_in$class != "-")]
if(!require(rstudioapi)) {
install.packages("rstudioapi")
require(rstudioapi)
}
setwd(dirname(getActiveDocumentContext()$path))
source("preprocessing.R")
source("missing.R")
source("errors.R")
source("outliers.R")
source("PCA.R")
source("MCA.R")
data <- read.table("../dataset/thyroid0387.txt", header = FALSE, sep = ",")
# Preprocessing ---------------------------------------------
data_in <- preprocessing(data)
summary(data.mice$TBG[ (data.mice$class != "-")])
summary(data_in$TBG[ (data_in$class != "-")])
summary(data_in$TBG[ (data_in$class == "-")])
if(!require(rstudioapi)) {
install.packages("rstudioapi")
require(rstudioapi)
}
setwd(dirname(getActiveDocumentContext()$path))
source("preprocessing.R")
source("missing.R")
source("errors.R")
source("outliers.R")
source("PCA.R")
source("MCA.R")
data <- read.table("../dataset/thyroid0387.txt", header = FALSE, sep = ",")
# Preprocessing ---------------------------------------------
data_in <- preprocessing(data)
# option 1) removing TBG-----------
data.mice <- remove.and.impute(data_in)
# PCA for comparison
library(FactoMineR)
summary(data.mice)
my.pca <- PCA(data.mice, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23))
my.pca$var$contrib
# option 2) doing MICE-------
data.mice <- impute.all(data_in)
# PCA for comparison
library(FactoMineR)
my.pca <- PCA(data.mice, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25))
my.pca$var$coord
# option 3) doin MICE for conditions, 24 for healty-----
data.mice <- impute.condition(data_in)
# PCA for comparison
library(FactoMineR)
my.pca <- PCA(data.mice, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25))
my.pca$var$contrib
# option 3) doin MICE for conditions, 24 for healty-----
data.mice <- impute.condition2(data_in)
my.pca$var$contrib
# option 2) doing MICE-------
data.mice <- impute.all(data_in)
my.pca2 <- PCA(data.mice, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25))
# option 1) removing TBG-----------
data.mice <- remove.and.impute(data_in)
my.pca1 <- PCA(data.mice, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23))
# option 3) doin MICE for conditions, 24 for healty-----
data.mice <- impute.condition(data_in)
# PCA for comparison
library(FactoMineR)
my.pca3 <- PCA(data.mice, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25))
# option 3) doin MICE for conditions, 24 for healty-----
data.mice <- impute.condition2(data_in)
# PCA for comparison
library(FactoMineR)
my.pca4 <- PCA(data.mice, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25))
my.pca4 <- PCA(data.mice, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25))
my.pca3 <- PCA(data.mice, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25))
# option 1) removing TBG-----------
data.mice <- remove.and.impute(data_in)
my.pca1 <- PCA(data.mice, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23))
# option 2) doing MICE-------
data.mice2 <- impute.all(data_in)
my.pca2 <- PCA(data.mice2, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25))
# option 3) doin MICE for conditions, 24 for healty-----
data.mice3 <- impute.condition(data_in)
my.pca3 <- PCA(data.mice3, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25))
# option 3) doin MICE for conditions, 24 for healty-----
data.mice4 <- impute.condition2(data_in)
# PCA for comparison
library(FactoMineR)
my.pca4 <- PCA(data.mice4, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25))
source("preprocessing.R")
source("missing.R")
source("errors.R")
source("outliers.R")
source("PCA.R")
source("MCA.R")
data <- read.table("../dataset/thyroid0387.txt", header = FALSE, sep = ",")
# Preprocessing ---------------------------------------------
data_in <- preprocessing(data)
# option 1) removing TBG-----------
data.mice <- remove.and.impute(data_in)
# PCA for comparison
library(FactoMineR)
summary(data.mice)
my.pca1 <- PCA(data.mice, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23))
# option 2) doing MICE-------
data.mice2 <- impute.all(data_in)
# PCA for comparison
library(FactoMineR)
my.pca2 <- PCA(data.mice2, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25))
# option 3) doin MICE for conditions, 24 for healty-----
data.mice3 <- impute.condition(data_in)
my.pca3 <- PCA(data.mice3, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25))
# option 4) doin MICE for conditions, 24 for healty-----
data.mice4 <- impute.condition2(data_in)
# PCA for comparison
library(FactoMineR)
my.pca4 <- PCA(data.mice4, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25))
# outliers ----------------------------------------------------------------
data.mice <- ourliers(data.mice)
# outliers ----------------------------------------------------------------
data.mice <- outliers(data.mice)
# errors -------------------------------------------------
data.mice <- errors(data.mice)
View(data.mice2)
# errors -------------------------------------------------
data.mice2 <- errors(data.mice)
# errors -------------------------------------------------
data.mice2 <- errors(data.mice)
dim(data.mice)
# errors -------------------------------------------------
data.mice <- errors(data.mice2)
# outliers ----------------------------------------------------------------
data.mice <- outliers(data.mice2)
source('~/Projectes/mvaproject/src/project.R', echo=TRUE)
if(!require(rstudioapi)) {
install.packages("rstudioapi")
require(rstudioapi)
}
setwd(dirname(getActiveDocumentContext()$path))
source("preprocessing.R")
source("missing.R")
source("errors.R")
source("outliers.R")
source("PCA.R")
source("MCA.R")
data <- read.table("../dataset/thyroid0387.txt", header = FALSE, sep = ",")
# Preprocessing ---------------------------------------------
data_in <- preprocessing(data)
# option 2) doing MICE-------
data.mice2 <- impute.all(data_in)
# PCA for comparison
library(FactoMineR)
my.pca2 <- PCA(data.mice2, quali.sup = c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25))
summary(data.mice2$class)
plot(my.pca2$ind$coord[,1],my.pca$ind$coord[,2], col=as.numeric(data.mice$class))
# errors -------------------------------------------------
data.mice <- errors(data.mice2)
# outliers ----------------------------------------------------------------
data.mice <- outliers(data.mice)
data2 <- data.mice[,-c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25)]
data2 <- Moutlier(data2, quantile=0.975)
data2 <- data.mice[,-c(2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,22,23,25)]
# errors -------------------------------------------------
data.mice <- errors(data.mice2)
# outliers ----------------------------------------------------------------
outliers.data <- outliers(data.mice)
outliers.data
names(outliers.data)
head(outliers.data)
outliers.data[1:3,]
dim(outliers.data)
class(outliers.data)
outliers.data[["md"]]
head(outliers.data[["md"]])
names(outliers.data)
?Moutlier
head(outliers.data[["cutoff"]])
head(outliers.data[["rd"]])
source("outliers.R")
source("PCA.R")
dim(outliers.data)
source("preprocessing.R")
source("missing.R")
source("errors.R")
source("outliers.R")
source("PCA.R")
# outliers ----------------------------------------------------------------
outliers.data <- outliers(data.mice)
source("outliers.R")
# outliers ----------------------------------------------------------------
outliers.data <- outliers(data.mice)
dim(outliers.data)
dim(data.mice)
source("outliers.R")
# outliers ----------------------------------------------------------------
outliers.data <- outliers(data.mice)
dim(outliers.data)
outliers.data2 <- outliers(outliers.data)
